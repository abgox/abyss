{
    "version": "2025.07.06.051013",
    "description": "Rime 配置：雾凇拼音 | 长期维护的简体词库。Rime Configuration: ice-Pinyin | Long-term Maintained Simplified Chinese Lexicon.",
    "homepage": "https://github.com/iDvel/rime-ice",
    "license": {
        "identifier": "GPL-3.0-only",
        "url": "https://github.com/iDvel/rime-ice/blob/main/LICENSE"
    },
    "depends": "abyss/Rime.Weasel",
    "notes": "After installation, update, or uninstallation, you need to redeploy in Rime Weasel",
    "notes-cn": "安装/更新/卸载后都需要在小狼毫中进行重新部署",
    "architecture": {
        "64bit": {
            "url": "https://github.com/iDvel/rime-ice/releases/download/nightly/full.zip",
            "hash": "0557e5a674923db237983ea3bf82dc0a1bf8e80e402d4202e6c0eb3542e1e2ce"
        },
        "arm64": {
            "url": "https://github.com/iDvel/rime-ice/releases/download/nightly/full.zip",
            "hash": "0557e5a674923db237983ea3bf82dc0a1bf8e80e402d4202e6c0eb3542e1e2ce"
        }
    },
    "extract_to": "rime-ice",
    "pre_install": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "A-Start-PreInstall",
        "if($PSUICulture -like 'zh*') {",
        "    Write-Host \"正在将 $app 配置文件复制到 Rime.Weasel 配置目录中...\" -ForegroundColor Yellow",
        "}",
        "else {",
        "    Write-Host \"Copying $app configuration file to Rime.Weasel configuration directory...\" -ForegroundColor Yellow",
        "}",
        "Copy-Item \"$dir\\rime-ice\\*\" \"$env:AppData\\Rime\" -Recurse -Force"
    ],
    "post_install": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "A-Start-PostInstall"
    ],
    "pre_uninstall": [
        "$bucket = if ($install.bucket) { $install.bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "A-Start-PreUninstall",
        "if($PSUICulture -like 'zh*') {",
        "    Write-Host \"正在从 Rime.Weasel 配置目录中移除 $app 配置文件...\" -ForegroundColor Yellow",
        "}",
        "else {",
        "    Write-Host \"Removing $app configuration file from Rime.Weasel configuration directory...\" -ForegroundColor Yellow",
        "}",
        "(Get-ChildItem \"$dir\\rime-ice\" -Recurse).FullName.Replace(\"$dir\\rime-ice\", \"$env:AppData\\Rime\") | Remove-Item -Force -Recurse -ErrorAction SilentlyContinue"
    ],
    "post_uninstall": [
        "$bucket = if ($install.bucket) { $install.bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "A-Start-PostUninstall"
    ],
    "checkver": {
        "url": "https://api.github.com/repos/iDvel/rime-ice/releases/latest",
        "jsonpath": "$.assets[?(@.name == 'full.zip')].updated_at",
        "regex": "(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+)Z",
        "replace": "${1}.${2}.${3}.${4}${5}${6}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/iDvel/rime-ice/releases/download/nightly/full.zip"
            },
            "arm64": {
                "url": "https://github.com/iDvel/rime-ice/releases/download/nightly/full.zip"
            }
        }
    }
}
