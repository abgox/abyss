{
    "version": "14.4.0",
    "description": "Rime 小狼毫配置: 万象拼音输入方案 (墨奇) | Rime Weasel Configuration: Wanxiang-Pinyin (moqi)",
    "homepage": "https://github.com/amzxyz/rime_wanxiang",
    "license": {
        "identifier": "CC-BY-4.0"
    },
    "notes": "You need to redeploy in Rime Weasel",
    "notes_cn": "你需要在小狼毫中进行重新部署",
    "depends": "abyss/Rime.Weasel",
    "suggest": {
        "model": "abyss/amzxyz.rime_wanxiang.model"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/amzxyz/rime_wanxiang/releases/download/v14.4.0/rime-wanxiang-moqi-fuzhu.zip",
            "hash": "dc2a6ef2676b168a99f2631c20856bf8ff969ab37e3ef8c94e58dd94b3f93e26"
        },
        "arm64": {
            "url": "https://github.com/amzxyz/rime_wanxiang/releases/download/v14.4.0/rime-wanxiang-moqi-fuzhu.zip",
            "hash": "dc2a6ef2676b168a99f2631c20856bf8ff969ab37e3ef8c94e58dd94b3f93e26"
        }
    },
    "extract_to": "app",
    "pre_install": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". $bucketsdir\\$bucket\\script\\utils.ps1",
        "A-Start-Install",
        "A-Deny-IfAppConflict 'amzxyz.rime_wanxiang', 'amzxyz.rime_wanxiang.shouyou', 'amzxyz.rime_wanxiang.zrm', 'amzxyz.rime_wanxiang.tiger', 'amzxyz.rime_wanxiang.moqi', 'amzxyz.rime_wanxiang.flypy', 'amzxyz.rime_wanxiang.wubi', 'amzxyz.rime_wanxiang.hanxin'",
        "A-Ensure-Directory \"$env:AppData\\Rime\"",
        "Write-Host \"Copying $dir\\app\\* => $env:AppData\\Rime\" -ForegroundColor Yellow",
        "Copy-Item $dir\\app\\* $env:AppData\\Rime -Recurse -Force"
    ],
    "post_install": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". $bucketsdir\\$bucket\\script\\utils.ps1",
        "A-Complete-Install"
    ],
    "pre_uninstall": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". $bucketsdir\\$bucket\\script\\utils.ps1",
        "A-Start-Uninstall",
        "(Get-ChildItem \"$dir\\app\" -Recurse -File).FullName.Replace(\"$dir\\app\", \"$env:AppData\\Rime\") | Remove-Item -Force -Recurse -ErrorAction SilentlyContinue"
    ],
    "post_uninstall": [
        "$bucket = if ($bucket) { $bucket } else { (scoop config).'abgox-abyss-bucket-name' }",
        ". $bucketsdir\\$bucket\\script\\utils.ps1",
        "A-Complete-Uninstall"
    ],
    "checkver": {
        "script": [
            ". $pwd\\script\\utils.ps1",
            "A-Get-VersionFromGithubAPI"
        ],
        "regex": "(.+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/amzxyz/rime_wanxiang/releases/download/v$version/rime-wanxiang-moqi-fuzhu.zip"
            },
            "arm64": {
                "url": "https://github.com/amzxyz/rime_wanxiang/releases/download/v$version/rime-wanxiang-moqi-fuzhu.zip"
            }
        },
        "hash": {
            "mode": "github"
        }
    }
}
